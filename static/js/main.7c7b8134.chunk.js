(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e,t,a){e.exports=a(440)},246:function(e,t,a){},440:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),l=a.n(i),c=(a(246),a(30)),s=a(62),o=a(32),m=a(31),u=a(33),p=a(10),d=a(59),b=a.n(d),g=a(60),f=a.n(g),h=a(17),v=a.n(h);var y=Object(p.withStyles)({})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(v.a,{variant:"h6",color:"inherit"},"Pipeline Catalogue"))))}),E=a(11),k=a(66),O=a(20),j=a(21),S=a(34),C=a(42),I=a(5),x=a.n(I),N=a(65),w=a(40),B=a.n(w),D=a(61),A=["Misc"];var R=Object(p.withStyles)(function(e){return{root:Object(j.a)({},e.mixins.gutters(),{marginBottom:2*e.spacing.unit,paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),heading:{fontSize:"24px",marginBottom:2*e.spacing.unit},list:{width:"100%",backgroundColor:e.palette.background.paper},listDragged:{backgroundColor:"lightgrey"},listItemDragged:{backgroundColor:D.pink[500]},listItemTextDragged:{color:"#fff"}}})(function(e){var t=e.classes,a=e.bucketName,n=e.items,i=e.type,l=e.droppableBucket;return r.a.createElement(E.k,{className:t.root,elevation:1},r.a.createElement(E.o,{variant:"h6",component:"h6"},a),r.a.createElement(C.c,{droppableId:"".concat(i,"-").concat(a,"-Droppable"),isDropDisabled:Object(N.a)(A).concat([a]).indexOf(l)<0},function(e,l){return r.a.createElement("div",Object.assign({className:x()(t.list,l.isDraggingOver&&t.listDragged),ref:e.innerRef},e.droppableProps),r.a.createElement(E.g,{dense:!0},n&&n[a]?n[a].map(function(e,n){return r.a.createElement(C.b,{key:e.Name,draggableId:"".concat(i,"-").concat(a,"-").concat(e.Name),index:n},function(a,n){return r.a.createElement(B.a,{rootRef:a.innerRef},r.a.createElement(E.h,Object.assign({},a.draggableProps,a.dragHandleProps,{style:a.draggableProps.style,classes:{root:n.isDragging?t.listItemDragged:void 0}}),r.a.createElement(E.i,{primary:e.Name,classes:{primary:n.isDragging?t.listItemTextDragged:void 0}})))})}):null,e.placeholder))}))});var T=Object(p.withStyles)(function(e){return{heading:{fontSize:"24px",marginBottom:2*e.spacing.unit,marginTop:2*e.spacing.unit}}})(function(e){var t=e.className,a=e.classes,n=e.items,i=e.title,l=e.type,c=e.droppableBucket,s=e.stages;return r.a.createElement("div",{className:x()(t,a.root)},r.a.createElement(v.a,{variant:"h2",className:a.heading},i),s.map(function(e){return r.a.createElement(R,{key:e,bucketName:e,items:n,type:l,droppableBucket:c})}))});var P=function(e){var t=e.className,a=e.availableItems,n=e.droppableBucket,i=e.stages;return r.a.createElement(T,{className:t,items:a,title:"Available Options",type:"available",droppableBucket:n,stages:i})};var J=function(e){var t=e.className,a=e.selectedItems,n=e.droppableBucket,i=e.stages;return r.a.createElement(T,{className:t,items:a,title:"Selected Options",type:"selected",droppableBucket:n,stages:i})},V=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(S.a)(r,1)[0];return n.splice(a,0,i),n},L=function(e,t,a,n){var r=Array.from(e),i=Array.from(t||[]),l=r.splice(a,1),c=Object(S.a)(l,1)[0];return i.splice(n,0,c),{source:r,destination:i}},z=a(106),M=a.n(z),G=a(169),q=a(107),U=a.n(q),F=a(170),H=a.n(F),Q=a(41),W=a.n(Q),_=a(108),K=a.n(_),X=a(432),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:null},a.pipelineRef=null,a.configRef=null,a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a.download=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file";if(e){var a=new Blob([e]);H()(a,t)}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(G.a)(M.a.mark(function e(){var t,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./static/templates/config.template.mst");case 2:return t=e.sent,e.next=5,t.text();case 5:return this.configTemplate=e.sent,e.next=8,fetch("./static/templates/pipeline.template.mst");case 8:return a=e.sent,e.next=11,a.text();case 11:this.pipelineTemplate=e.sent;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.classes,i=t.usedConfigs,l=t.selectedItems,c=this.state.expanded;return r.a.createElement("div",{className:x()(a,n.root)},r.a.createElement(v.a,{variant:"h2",className:n.heading},"Configurations"),r.a.createElement(E.a,{expanded:"pipeline"===c,onChange:this.handleChange("pipeline")},r.a.createElement(E.c,{expandIcon:r.a.createElement(U.a,null)},r.a.createElement(v.a,{className:n.heading},"Pipeline")),r.a.createElement(E.b,{className:n.details},r.a.createElement("pre",{className:n.code,ref:function(t){return e.pipelineRef=t}},this.pipelineTemplate?X.render(this.pipelineTemplate,{selectedItems:Object.keys(l).map(function(e){return{name:e,commands:l[e].reduce(function(e,t){return Array.isArray(t.Command)?e.concat(t.Command):Object(N.a)(e).concat([t.Command])},[]),libraries:l[e].map(function(e){return e.Library}),isStageVisible:!!l[e]&&l[e].length}})}):null),r.a.createElement(W.a,{variant:"contained",color:"secondary",size:"small",className:n.btnSave,onClick:function(){e.download(e.pipelineRef.innerText,"pipeline")}},r.a.createElement(K.a,{className:n.btnIcon}),"Save"))),r.a.createElement(E.a,{expanded:"config"===c,onChange:this.handleChange("config")},r.a.createElement(E.c,{expandIcon:r.a.createElement(U.a,null)},r.a.createElement(v.a,{className:n.heading},"Config")),r.a.createElement(E.b,{className:n.details},r.a.createElement("pre",{className:n.code,ref:function(t){return e.configRef=t}},this.configTemplate?X.render(this.configTemplate,{usedConfigs:Array.from(i)}):null),r.a.createElement(W.a,{variant:"contained",color:"secondary",size:"small",className:n.btnSave,onClick:function(){e.download(e.configRef.innerText,"config")}},r.a.createElement(K.a,{className:n.btnIcon}),"Save"))))}}]),t}(r.a.Component),Z=Object(p.withStyles)(function(e){return{heading:{fontSize:"24px",marginBottom:2*e.spacing.unit,marginTop:2*e.spacing.unit},code:{"flex-basis":"100%"},btnSave:{marginTop:4*e.spacing.unit,marginBottom:2*e.spacing.unit},btnIcon:{marginRight:e.spacing.unit},details:{"flex-wrap":"wrap"}}})(Y),$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={selectedArchetype:Object.keys(a.props.data)[0],availableItems:a.props.data[Object.keys(a.props.data)[0]],selectedItems:{},usedConfigs:new Set,droppableBucket:null},a.handleChange=function(e){a.setState({selectedArchetype:e.target.value,availableItems:a.props.data[e.target.value],selectedItems:{},usedConfigs:new Set})},a.onDragEnd=function(e){var t=e.source,n=e.destination;if(n){var r,i,l=a.state,c=l.availableItems,s=l.selectedItems,o=t.droppableId.split("-"),m=Object(S.a)(o,2),u=m[0],p=m[1],d=n.droppableId.split("-"),b=Object(S.a)(d,2),g=b[0],f=b[1];if("available"===u?(r=c,i=s):(r=s,i=c),u===g){var h=V(r[p],t.index,n.index);a.setState(function(e){return"available"===u?{availableItems:Object(j.a)({},e.availableItems,Object(O.a)({},p,h)),droppableBucket:null}:{selectedItems:Object(j.a)({},e.selectedItems,Object(O.a)({},p,h)),droppableBucket:null}})}else{var v=L(r[p],i[f],t.index,n.index);a.setState(function(e){var a=new Set(e.usedConfigs);return"available"===u?(a.add(c[p][t.index].Config),{availableItems:Object(j.a)({},e.availableItems,Object(O.a)({},p,v.source)),selectedItems:Object(j.a)({},e.selectedItems,Object(O.a)({},f,v.destination)),droppableBucket:null,usedConfigs:a}):(a.delete(s[p][t.index].Config),{availableItems:Object(j.a)({},e.availableItems,Object(O.a)({},f,v.destination)),selectedItems:Object(j.a)({},e.selectedItems,Object(O.a)({},p,v.source)),droppableBucket:null,usedConfigs:a})})}}},a.onDragStart=function(e){var t=e.source.droppableId.split("-")[1];a.setState({droppableBucket:t})},a.render=function(){var e=a.props,t=e.className,n=e.classes,i=e.data,l=a.state,c=l.selectedArchetype,s=l.availableItems,o=l.selectedItems,m=l.droppableBucket,u=l.usedConfigs,p=Object.keys(i[c]);return r.a.createElement("div",null,r.a.createElement("form",{className:t,autoComplete:"off"},r.a.createElement(E.d,{className:n.formControl},r.a.createElement(E.f,{htmlFor:"arch"},r.a.createElement(E.o,null,"Archetype")),r.a.createElement(E.l,{value:c,onChange:a.handleChange,inputProps:{name:"archetype",id:"arch"}},Object.keys(i).map(function(e){return r.a.createElement(E.j,{key:e,value:e},r.a.createElement(E.o,null,e))})))),r.a.createElement(C.a,{onDragEnd:a.onDragEnd,onDragStart:a.onDragStart},r.a.createElement(E.e,{container:!0,justify:"center",spacing:32},r.a.createElement(E.e,{item:!0,xs:3},r.a.createElement(P,{availableItems:s,droppableBucket:m,stages:p})),r.a.createElement(E.e,{item:!0,xs:3},r.a.createElement(J,{selectedItems:o,droppableBucket:m,stages:p})),r.a.createElement(E.e,{item:!0,xs:3},r.a.createElement(Z,{usedConfigs:u,selectedItems:o})))))},a}return Object(u.a)(t,e),t}(r.a.Component),ee=Object(p.withStyles)(function(e){return{formControl:{minWidth:120,marginTop:e.spacing.unit}}})($),te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentSol:0},a.onTabClick=function(e,t){a.setState({currentSol:t})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.currentSol;return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:e.tabs},r.a.createElement(E.n,{value:t,onChange:this.onTabClick},Object.keys(k).map(function(e){return r.a.createElement(E.m,{key:e,label:e})})),Object.keys(k).map(function(e,a){return t===a?r.a.createElement(ee,{key:e,data:k[e]}):null})))}}]),t}(n.Component),ae=Object(p.withStyles)(function(e){return{tabs:{padding:2*e.spacing.unit}}})(te);l.a.render(r.a.createElement(ae,null),document.getElementById("root"))},66:function(e){e.exports={Jenkins:{Java:{"Unit Test":[{Solution:"Jenkins",Archetype:"Java",Name:"SonarQube",Description:"Ability to run Sonar",Command:["Sonarrun","exit"],Stage:"Unit Test","Minimum SolutionVersion":"2.12",Version:"1.0",Tags:"Jenkins, Sonar, SharedLib","Github Repo":"github.com/sonar",Platform:"multi",Dependencies:"pipelineplugin",Library:"sonarqube@master",Config:"pipelines/conf/sonarqube.yaml"}]},Node:{Build:[{Solution:"Jenkins",Archetype:"Node",Name:"Build",Description:"Ability to run build",Command:"gulp run",Stage:"build","Minimum SolutionVersion":"2.12",Version:"1.0",Tags:"Jenkins, build, SharedLib","Github Repo":"github.com/nodebuild",Platform:"multi",Dependencies:"pipelineplugin",Library:"nodebuild@master",Config:"pipelines/conf/node_build.yaml"}]}},Ansible:{Role:{Rancher:[{Solution:"Ansible",Archetype:"Role",Name:"Rancher",Description:"Role to install Rancher",Command:"ansible-playbook rancher",Stage:"Rancher","Minimum SolutionVersion":"2.12",Version:"1.0",Tags:"Ansible, Roles, Rancher","Github Repo":"github.com/ansible/rancher",Platform:"multi",Dependencies:"rke, docker",Library:"",Config:""}]}}}}},[[241,2,1]]]);
//# sourceMappingURL=main.7c7b8134.chunk.js.map