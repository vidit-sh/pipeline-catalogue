(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{240:function(e,t,a){e.exports=a(440)},245:function(e,t,a){},440:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),s=(a(245),a(34)),i=a.n(s),o=a(64),m=a(30),u=a(65),p=a(32),d=a(31),g=a(33),f=a(16),b=a(61),h=a.n(b),v=a(62),E=a.n(v),y=a(17),j=a.n(y);var O=Object(f.withStyles)({})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(h.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(j.a,{variant:"h6",color:"inherit"},"Pipeline Catalogue"))))}),k=a(8),I=a(20),x=a(21),C=a(35),N=a(43),S=a(5),w=a.n(S),B=a(68),D=a(41),T=a.n(D),A=a(63),R=["Misc"];var P=Object(f.withStyles)(function(e){return{root:Object(x.a)({},e.mixins.gutters(),{marginBottom:2*e.spacing.unit,paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),heading:{fontSize:"24px",marginBottom:2*e.spacing.unit},list:{width:"100%",backgroundColor:e.palette.background.paper},listDragged:{backgroundColor:"lightgrey"},listItemDragged:{backgroundColor:A.pink[500]},listItemTextDragged:{color:"#fff"}}})(function(e){var t=e.classes,a=e.bucketName,n=e.items,c=e.type,l=e.droppableBucket;return r.a.createElement(k.l,{className:t.root,elevation:1},r.a.createElement(k.p,{variant:"h6",component:"h6"},a),r.a.createElement(N.c,{droppableId:"".concat(c,"-").concat(a,"-Droppable"),isDropDisabled:Object(B.a)(R).concat([a]).indexOf(l)<0},function(e,l){return r.a.createElement("div",Object.assign({className:w()(t.list,l.isDraggingOver&&t.listDragged),ref:e.innerRef},e.droppableProps),r.a.createElement(k.h,{dense:!0},n&&n[a]?n[a].map(function(e,n){return r.a.createElement(N.b,{key:e.Name,draggableId:"".concat(c,"-").concat(a,"-").concat(e.Name),index:n},function(a,n){return r.a.createElement(T.a,{rootRef:a.innerRef},r.a.createElement(k.i,Object.assign({},a.draggableProps,a.dragHandleProps,{style:a.draggableProps.style,classes:{root:n.isDragging?t.listItemDragged:void 0}}),r.a.createElement(k.j,{primary:e.Name,classes:{primary:n.isDragging?t.listItemTextDragged:void 0}})))})}):null,e.placeholder))}))});var z=Object(f.withStyles)(function(e){return{heading:{fontSize:"24px",marginBottom:2*e.spacing.unit,marginTop:2*e.spacing.unit}}})(function(e){var t=e.className,a=e.classes,n=e.items,c=e.title,l=e.type,s=e.droppableBucket,i=e.stages;return r.a.createElement("div",{className:w()(t,a.root)},r.a.createElement(j.a,{variant:"h2",className:a.heading},c),i.map(function(e){return r.a.createElement(P,{key:e,bucketName:e,items:n,type:l,droppableBucket:s})}))});var M=function(e){var t=e.className,a=e.availableItems,n=e.droppableBucket,c=e.stages;return r.a.createElement(z,{className:t,items:a,title:"Available Options",type:"available",droppableBucket:n,stages:c})};var J=function(e){var t=e.className,a=e.selectedItems,n=e.droppableBucket,c=e.stages;return r.a.createElement(z,{className:t,items:a,title:"Selected Options",type:"selected",droppableBucket:n,stages:c})},W=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(C.a)(r,1)[0];return n.splice(a,0,c),n},F=function(e,t,a,n){var r=Array.from(e),c=Array.from(t||[]),l=r.splice(a,1),s=Object(C.a)(l,1)[0];return c.splice(n,0,s),{source:r,destination:c}},H=a(107),L=a.n(H),V=a(170),q=a.n(V),G=a(42),K=a.n(G),Q=a(108),U=a.n(Q),X=a(432),Y=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:null},a.pipelineRef=null,a.configRef=null,a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a.download=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file";if(e){var a=new Blob([e]);q()(a,t)}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./static/templates/config.template.mst");case 2:return t=e.sent,e.next=5,t.text();case 5:return this.configTemplate=e.sent,e.next=8,fetch("./static/templates/pipeline.template.mst");case 8:return a=e.sent,e.next=11,a.text();case 11:this.pipelineTemplate=e.sent;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.classes,c=t.usedConfigs,l=t.selectedItems,s=this.state.expanded;return r.a.createElement("div",{className:w()(a,n.root)},r.a.createElement(j.a,{variant:"h2",className:n.heading},"Configurations"),r.a.createElement(k.a,{expanded:"pipeline"===s,onChange:this.handleChange("pipeline")},r.a.createElement(k.c,{expandIcon:r.a.createElement(L.a,null)},r.a.createElement(j.a,{className:n.heading},"Pipeline")),r.a.createElement(k.b,{className:n.details},r.a.createElement("pre",{className:n.code,ref:function(t){return e.pipelineRef=t}},this.pipelineTemplate?X.render(this.pipelineTemplate,{selectedItems:Object.keys(l).map(function(e){return{name:e,commands:l[e].reduce(function(e,t){return Array.isArray(t.Command)?e.concat(t.Command):Object(B.a)(e).concat([t.Command])},[]),libraries:l[e].map(function(e){return e.Library}),isStageVisible:!!l[e]&&l[e].length}})}):null),r.a.createElement(K.a,{variant:"contained",color:"secondary",size:"small",className:n.btnSave,onClick:function(){e.download(e.pipelineRef.innerText,"pipeline")}},r.a.createElement(U.a,{className:n.btnIcon}),"Save"))),r.a.createElement(k.a,{expanded:"config"===s,onChange:this.handleChange("config")},r.a.createElement(k.c,{expandIcon:r.a.createElement(L.a,null)},r.a.createElement(j.a,{className:n.heading},"Config")),r.a.createElement(k.b,{className:n.details},r.a.createElement("pre",{className:n.code,ref:function(t){return e.configRef=t}},this.configTemplate?X.render(this.configTemplate,{usedConfigs:Array.from(c)}):null),r.a.createElement(K.a,{variant:"contained",color:"secondary",size:"small",className:n.btnSave,onClick:function(){e.download(e.configRef.innerText,"config")}},r.a.createElement(U.a,{className:n.btnIcon}),"Save"))))}}]),t}(r.a.Component),Z=Object(f.withStyles)(function(e){return{heading:{fontSize:"24px",marginBottom:2*e.spacing.unit,marginTop:2*e.spacing.unit},code:{"flex-basis":"100%","overflow-x":"auto"},btnSave:{marginTop:4*e.spacing.unit,marginBottom:2*e.spacing.unit},btnIcon:{marginRight:e.spacing.unit},details:{"flex-wrap":"wrap"}}})(Y),$=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={selectedArchetype:Object.keys(a.props.data)[0],availableItems:a.props.data[Object.keys(a.props.data)[0]],selectedItems:{},usedConfigs:new Set,droppableBucket:null},a.handleChange=function(e){a.setState({selectedArchetype:e.target.value,availableItems:a.props.data[e.target.value],selectedItems:{},usedConfigs:new Set})},a.onDragEnd=function(e){var t=e.source,n=e.destination;if(n){var r,c,l=a.state,s=l.availableItems,i=l.selectedItems,o=t.droppableId.split("-"),m=Object(C.a)(o,2),u=m[0],p=m[1],d=n.droppableId.split("-"),g=Object(C.a)(d,2),f=g[0],b=g[1];if("available"===u?(r=s,c=i):(r=i,c=s),u===f){var h=W(r[p],t.index,n.index);a.setState(function(e){return"available"===u?{availableItems:Object(x.a)({},e.availableItems,Object(I.a)({},p,h)),droppableBucket:null}:{selectedItems:Object(x.a)({},e.selectedItems,Object(I.a)({},p,h)),droppableBucket:null}})}else{var v=F(r[p],c[b],t.index,n.index);a.setState(function(e){var a=new Set(e.usedConfigs);return"available"===u?(a.add(s[p][t.index].Config),{availableItems:Object(x.a)({},e.availableItems,Object(I.a)({},p,v.source)),selectedItems:Object(x.a)({},e.selectedItems,Object(I.a)({},b,v.destination)),droppableBucket:null,usedConfigs:a}):(a.delete(i[p][t.index].Config),{availableItems:Object(x.a)({},e.availableItems,Object(I.a)({},b,v.destination)),selectedItems:Object(x.a)({},e.selectedItems,Object(I.a)({},p,v.source)),droppableBucket:null,usedConfigs:a})})}}},a.onDragStart=function(e){var t=e.source.droppableId.split("-")[1];a.setState({droppableBucket:t})},a.render=function(){var e=a.props,t=e.className,n=e.classes,c=e.data,l=a.state,s=l.selectedArchetype,i=l.availableItems,o=l.selectedItems,m=l.droppableBucket,u=l.usedConfigs,p=Object.keys(c[s]);return r.a.createElement("div",null,r.a.createElement("form",{className:t,autoComplete:"off"},r.a.createElement(k.d,{className:n.formControl},r.a.createElement(k.f,{htmlFor:"arch"},r.a.createElement(k.p,null,"Archetype")),r.a.createElement(k.m,{value:s,onChange:a.handleChange,inputProps:{name:"archetype",id:"arch"}},Object.keys(c).map(function(e){return r.a.createElement(k.k,{key:e,value:e},r.a.createElement(k.p,null,e))})))),r.a.createElement(N.a,{onDragEnd:a.onDragEnd,onDragStart:a.onDragStart},r.a.createElement(k.e,{container:!0,justify:"center",spacing:32},r.a.createElement(k.e,{item:!0,xs:3},r.a.createElement(M,{availableItems:i,droppableBucket:m,stages:p})),r.a.createElement(k.e,{item:!0,xs:3},r.a.createElement(J,{selectedItems:o,droppableBucket:m,stages:p})),r.a.createElement(k.e,{item:!0,xs:3},r.a.createElement(Z,{usedConfigs:u,selectedItems:o})))))},a}return Object(g.a)(t,e),t}(r.a.Component),_=Object(f.withStyles)(function(e){return{formControl:{minWidth:120,marginTop:e.spacing.unit}}})($),ee=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentSol:0,data:null},a.onTabClick=function(e,t){a.setState({currentSol:t})},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./static/data/libraries.json");case 2:return t=e.sent,e.t0=this,e.next=6,t.json();case 6:e.t1=e.sent,e.t2={data:e.t1},e.t0.setState.call(e.t0,e.t2);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.currentSol,n=t.data;return n?r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("div",{className:e.tabs},r.a.createElement(k.o,{value:a,onChange:this.onTabClick},Object.keys(n).map(function(e){return r.a.createElement(k.n,{key:e,label:e})})),Object.keys(n).map(function(e,t){return a===t?r.a.createElement(_,{key:e,data:n[e]}):null}))):r.a.createElement(k.g,{color:"secondary"})}}]),t}(n.Component),te=Object(f.withStyles)(function(e){return{tabs:{padding:2*e.spacing.unit}}})(ee);l.a.render(r.a.createElement(te,null),document.getElementById("root"))}},[[240,2,1]]]);
//# sourceMappingURL=main.03cf8380.chunk.js.map